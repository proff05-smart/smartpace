{% extends "base.html" %}
{% load static %}
{% load humanize %}
{% block content %}

<div class="container my-4">
  <h2>ðŸ”” Unread Notifications</h2>

  {% if notifications %}
    <ul class="list-group">
      {% for n in notifications %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ n.sender.username }}</strong> {{ n.verb }}
            {% if n.post and "your post" not in n.verb %}
              your post "<em>{{ n.post.title }}</em>"
            {% endif %}
            <br>
            <small class="text-muted">{{ n.created_at|naturaltime }}</small>
          </div>

          <a href="{% url 'mark_notification_as_read' n.id %}" class="btn btn-sm btn-outline-success">
            Mark as Read
          </a>
        </li>
      {% endfor %}
    </ul>

    <div class="mt-3 text-end">
      <a href="{% url 'mark_all_notifications_as_read' %}" class="btn btn-danger">
        Mark All as Read
      </a>
    </div>
  {% else %}
    <p class="text-muted mt-3">No unread notifications ðŸŽ‰</p>
  {% endif %}
</div>

{% endblock %}
