{% extends "base.html" %}

{% block content %}
  <div class="container mt-4">
    <h2>Unread Notifications</h2>

    {% if notifications %}
      <ul class="list-group mb-3">
        {% for note in notifications %}
          <li class="list-group-item d-flex justify-content-between align-items-start">
            <div class="ms-2 me-auto">
              <div>
                <strong>{{ note.tone|title }}</strong>: {{ note.message }}
                {% if note.url %}
                  - <a href="{{ note.url }}" target="_blank">Visit</a>
                {% endif %}
              </div>
              <small class="text-muted">{{ note.created_at }}</small>
            </div>
            <a class="btn btn-sm btn-outline-success" href="{% url 'mark_notification_as_read' note.id %}">
              Mark as read
            </a>
          </li>
        {% endfor %}
      </ul>

      <a class="btn btn-sm btn-outline-primary" href="{% url 'mark_all_notifications_as_read' %}">
        Mark All as Read
      </a>
    {% else %}
      <p>No unread notifications.</p>
    {% endif %}
  </div>
{% endblock %}
